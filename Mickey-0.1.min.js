Mickey=function(e){if(typeof e=="string")return new Mickey.fn(document.querySelectorAll(e));e=e||document.body;return new Mickey.fn([e])};Mickey.forEach=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n])}};Mickey.fn=function(e){this.el=e};Mickey.effect=function(e,t,n){for(var r in Mickey.effects){if(r==e){for(var i in Mickey.effects[r]){if(i==t)return Mickey.effects[r][i](n)}return}}};Mickey.effects={shadow:{},text:{},image:{}};Mickey.effects.text.heartbeat=function(e){var t=parseInt(e.style.fontSize)||14;turn=0;setInterval(function(){if(turn==0&&t<25){e.style.fontSize=t+"px";t++}if(t==25)turn=1;if(turn==1&&t>11){e.style.fontSize=t+"px";t--}if(t==11)turn=0},30)};Mickey.fn.prototype={chase:function(){Mickey.forEach(this.el,function(e){e.addEventListener("mousemove",function(t){var n=Mickey.top,r=Mickey.left,i=window.scrollY,s=window.scrollX,o=e.offsetWidth,u=e.offsetHeight;window.scroll((r-s)*(o/700),(n-i)*(u/700))})});return new Mickey.fn(this.el)},blink:function(e,t){Mickey.forEach(this.el,function(n){var r=0;setInterval(function(){if(r==0){n.style.cursor="none",r=1}else{n.style.cursor=t||"default",r=0}},e||300)});return new Mickey.fn(this.el)},timeout:function(e,t,n){Mickey.forEach(this.el,function(r){var i=r.style.cursor;setTimeout(function(){r.style.cursor=e||"pointer";if(n)setTimeout(function(){if(typeof n=="string")r.style.cursor=n;else r.style.cursor=i},t)},t||300)});return new Mickey.fn(this.el)},interval:function(e,t,n){Mickey.forEach(this.el,function(r){var i=0;setInterval(function(){if(i==0){r.style.cursor=e,i=1}else{r.style.cursor=t,i=0}},n||300)});return new Mickey.fn(this.el)},shadow:function(e,t,n,r,i,s){Mickey.forEach(this.el,function(i){var o=document.createElement("canvas"),u=o.getContext("2d"),a=i.style.cursor.style;o.setAttribute("width","14"),o.setAttribute("height","21");o.style.position="absolute";o.style.display="none";if(s)txt.className=s;u.fillStyle=n||"black";switch(a){default:u.moveTo(0,0);u.lineTo(13.5,14);u.lineTo(8,14.5);u.lineTo(10,20);u.lineTo(8,20.5);u.lineTo(5,15.5);u.lineTo(0,18.5);u.lineTo(0,0);u.fill();break}i.appendChild(o);i.addEventListener("mousemove",function(n){o.style.display="block";setTimeout(function(){e=e||0,t=t||0;o.style.top=Mickey.top+e+1+"px";o.style.left=Mickey.left+e+1+"px"},r||0)});i.addEventListener("mouseleave",function(){o.style.display="none"})});if(i)Mickey.effect("text",i,txt);return new Mickey.fn(this.el)},hover:function(e){Mickey.forEach(this.el,function(t){t.addEventListener("mouseover",e)});return new Mickey.fn(this.el)},click:function(e){Mickey.forEach(this.el,function(t){t.addEventListener("click",e)});return new Mickey.fn(this.el)},text:function(e,t,n,r,i,s){var o=document.createElement("span");o.innerHTML=e;o.style.position="absolute";o.style.display="none";o.className="mickey-text";if(s)o.className=s;if(t){for(var u in t){o.style[u]=t[u]}}var n=n||0,r=r||0;Mickey.forEach(this.el,function(e){e.appendChild(o);e.addEventListener("mousemove",function(e){o.style.display="block";o.style.top=Mickey.top+21+r+"px";o.style.left=Mickey.left+14+n+"px"});e.addEventListener("mouseleave",function(e){o.style.display="none"})});if(i)Mickey.effect("text",i,o);return new Mickey.fn(this.el)},image:function(e,t,n,r,i,s){var o=document.createElement("img");o.setAttribute("src",e);o.style.position="absolute";o.style.display="none";o.className="mickey-image";if(s)o.className=s;if(t){for(var u in t){o.style[u]=t[u]}}var n=n||0,r=r||0;Mickey.forEach(this.el,function(e){e.appendChild(o);e.addEventListener("mousemove",function(e){o.style.display="block";o.style.top=Mickey.top+21+r+"px";o.style.left=Mickey.left+14+n+"px"});e.addEventListener("mouseleave",function(e){o.style.display="none"})});if(i)Mickey.effect("image",i,o);return new Mickey.fn(this.el)},absolute:function(){return{top:Mickey.top,left:Mickey.left}},relative:function(){var e=this.el[0].offsetTop,t=this.el[0].offsetLeft;return{top:Mickey.top-e,left:Mickey.left-t}}};document.body.addEventListener("mousemove",function(e){Mickey.top=e.pageY,Mickey.left=e.pageX})
